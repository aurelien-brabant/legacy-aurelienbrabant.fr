{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport Head from \"next/head\";\nimport Link from \"next/link\";\nimport { Fragment, useState, useEffect } from \"react\";\nimport { getPostsMeta } from \"../lib/posts.js\";\nimport styles from \"../styles/index.module.css\";\nimport Layout from \"../components/Layout\";\nexport async function getStaticProps() {\n  const posts = getPostsMeta();\n  return {\n    props: {\n      posts\n    }\n  };\n}\n\nfunction Home(props) {\n  const {\n    0: searchVal,\n    1: setSearchVal\n  } = useState(\"\");\n  const {\n    0: filteredPosts,\n    1: setFilteredPosts\n  } = useState([]);\n  useEffect(() => {\n    setFilteredPosts(props.posts);\n  }, []);\n\n  const applyFilter = s => {\n    setFilteredPosts(props.posts.filter(post => post.title.trim().includes(s.trim())));\n  };\n  /* form handlers */\n\n\n  const handleChange = event => {\n    setSearchVal(event.target.value);\n    applyFilter(event.target.value);\n  };\n\n  return /*#__PURE__*/_jsxs(Fragment, {\n    children: [/*#__PURE__*/_jsx(Head, {\n      children: /*#__PURE__*/_jsx(\"title\", {\n        children: \"Aurelien Brabant\"\n      })\n    }), /*#__PURE__*/_jsx(Layout, {\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.wrapper,\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: styles.barWrapper,\n          children: /*#__PURE__*/_jsx(\"input\", {\n            type: \"text\",\n            placeholder: \"Rechercher\",\n            onChange: handleChange,\n            value: searchVal\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: styles.postList,\n          children: filteredPosts.map(post => /*#__PURE__*/_jsxs(\"div\", {\n            className: styles.post,\n            children: [/*#__PURE__*/_jsx(\"h3\", {\n              children: /*#__PURE__*/_jsx(Link, {\n                href: `/posts/${post.id}`,\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  children: post.title\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"span\", {\n              className: styles.date,\n              children: new Date(post.date).toLocaleDateString(\"fr-FR\")\n            }), /*#__PURE__*/_jsx(\"p\", {\n              children: post.preview\n            }), /*#__PURE__*/_jsxs(\"a\", {\n              className: styles.readBtn,\n              href: `/posts/${post.id}`,\n              children: [\"Lire \", /*#__PURE__*/_jsx(\"i\", {\n                className: \"fa fa-arrow-right\"\n              })]\n            })]\n          }))\n        })]\n      })\n    })]\n  });\n}\n\nexport default Home;","map":null,"metadata":{},"sourceType":"module"}